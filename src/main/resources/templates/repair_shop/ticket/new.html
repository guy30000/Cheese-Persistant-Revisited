<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org/">
<head th:replace="general_Store/fragmentsGS :: head"></head>
<body class="container">

<nav th:replace="repair_shop/fragmentsRS :: navigation"></nav>
<nav th:replace="repair_shop/fragmentsRS :: title"></nav>

<address th:object="${cx}">
    <p th:text="*{firstName} + ', ' + *{lastName}"></p>
    <p th:text="*{phoneNumber}"></p>
    <a onclick="goBack()">Change</a>
</address>


<form method="post" style="max-width:600px;" th:object="${ticket}" id="ticketForm">
    <div class="form-group">
        <label th:for="firstName">Item for repair (Required)</label>
        <input class="form-control" th:field="*{itemName}" />
        <span th:errors="*{itemName}" class="error"></span>
    </div>
    <div class="form-group">
        <label th:for="lastName">Description of item</label>
        <input class="form-control" th:field="*{itemDescription}" />
        <span th:errors="*{itemDescription}" class="error"></span>
    </div>
    <div class="form-group">
        <label th:for="middleInitial">Reason for repair (Required)</label>
        <input class="form-control" th:field="*{itemIssue}" />
        <span th:errors="*{itemIssue}" class="error"></span>
    </div>
    <div class="form-group">
        <label th:for="email">Notes</label>
        <input class="form-control" th:field="*{itemNotes}" />
        <span th:errors="*{itemNotes}" class="error"></span>
    </div>
    <input type="hidden" name="id" th:value="*{id}" />
    <input type="hidden" name="customer" th:if="${cx.id}" th:value="${cx.id}" />
    <input id="cancel" class="btn btn-danger btn-block" th:value="${buttonName}" onclick="myFunction()" />

    <p id="demo"></p>
</form>
<a onclick="goBack()">Go Back</a>
<script>
function goBack() {
  window.history.back();
}
function myFunction() {
var retVal = confirm("Creat Ticket?");
    if (retVal == true)
    {
        $("#ticketForm").submit();
        return true;
    }
    else
    {
        alert("Submission canceled");
        CausesValidation="False"
        return false;
    }

}
</script>

</body>
</html>